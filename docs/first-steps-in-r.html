<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 First Steps in R | A PPB Toolkit in R and RStudio</title>
  <meta name="description" content="Chapter 2 First Steps in R | A PPB Toolkit in R and RStudio" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 First Steps in R | A PPB Toolkit in R and RStudio" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 First Steps in R | A PPB Toolkit in R and RStudio" />
  
  
  

<meta name="author" content="By Sergio Castro and Matteo Petitti" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-wrangling-and-summarizing.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A PPB Toolkit in R and RStudio</a></li> 
<img src="logo.png" width="100" height="70" style="position:center">

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="first-steps-in-r.html"><a href="first-steps-in-r.html"><i class="fa fa-check"></i><b>2</b> First Steps in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="first-steps-in-r.html"><a href="first-steps-in-r.html#getting-started"><i class="fa fa-check"></i><b>2.1</b> Getting started</a></li>
<li class="chapter" data-level="2.2" data-path="first-steps-in-r.html"><a href="first-steps-in-r.html#preparing-and-reading-your-data"><i class="fa fa-check"></i><b>2.2</b> Preparing and reading your data</a></li>
<li class="chapter" data-level="2.3" data-path="first-steps-in-r.html"><a href="first-steps-in-r.html#basic-data-manipulation"><i class="fa fa-check"></i><b>2.3</b> Basic data manipulation</a></li>
<li class="chapter" data-level="2.4" data-path="first-steps-in-r.html"><a href="first-steps-in-r.html#basic-statistics-and-plots"><i class="fa fa-check"></i><b>2.4</b> Basic Statistics and Plots</a></li>
<li class="chapter" data-level="2.5" data-path="first-steps-in-r.html"><a href="first-steps-in-r.html#packages-in-r."><i class="fa fa-check"></i><b>2.5</b> Packages in R.</a></li>
<li class="chapter" data-level="2.6" data-path="first-steps-in-r.html"><a href="first-steps-in-r.html#final-considerations"><i class="fa fa-check"></i><b>2.6</b> Final considerations</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-wrangling-and-summarizing.html"><a href="data-wrangling-and-summarizing.html"><i class="fa fa-check"></i><b>3</b> Data Wrangling and Summarizing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-wrangling-and-summarizing.html"><a href="data-wrangling-and-summarizing.html#dplyr"><i class="fa fa-check"></i><b>3.1</b> dplyr</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html"><i class="fa fa-check"></i><b>4</b> Basics of Data Visualisation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#base-package"><i class="fa fa-check"></i><b>4.1</b> Base package</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#plot-vs.-index"><i class="fa fa-check"></i><b>4.1.1</b> Plot vs. Index</a></li>
<li class="chapter" data-level="4.1.2" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#scatter-plot"><i class="fa fa-check"></i><b>4.1.2</b> Scatter plot</a></li>
<li class="chapter" data-level="4.1.3" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#histogram"><i class="fa fa-check"></i><b>4.1.3</b> Histogram</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#ggplot"><i class="fa fa-check"></i><b>4.2</b> ggplot</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#box-plot"><i class="fa fa-check"></i><b>4.2.1</b> Box Plot</a></li>
<li class="chapter" data-level="4.2.2" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#scatter-plots"><i class="fa fa-check"></i><b>4.2.2</b> Scatter plots</a></li>
<li class="chapter" data-level="4.2.3" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#bar-plots"><i class="fa fa-check"></i><b>4.2.3</b> Bar plots</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="basics-of-data-visualisation.html"><a href="basics-of-data-visualisation.html#exporting-plots"><i class="fa fa-check"></i><b>4.3</b> Exporting plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html"><i class="fa fa-check"></i><b>5</b> Experimental Design and Field Preparation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#digger"><i class="fa fa-check"></i><b>5.1</b> DiGGer</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#randomized-complete-block-design"><i class="fa fa-check"></i><b>5.1.1</b> Randomized Complete Block Design!</a></li>
<li class="chapter" data-level="5.1.2" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#incomplete-block-design-ibd"><i class="fa fa-check"></i><b>5.1.2</b> Incomplete Block Design (IBD)</a></li>
<li class="chapter" data-level="5.1.3" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#partially-replicated-block-design"><i class="fa fa-check"></i><b>5.1.3</b> Partially Replicated Block Design</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#agricolae"><i class="fa fa-check"></i><b>5.2</b> Agricolae</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#randomized-complete-block-design-1"><i class="fa fa-check"></i><b>5.2.1</b> Randomized Complete Block Design</a></li>
<li class="chapter" data-level="5.2.2" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#partially-replicated-block-design-1"><i class="fa fa-check"></i><b>5.2.2</b> Partially Replicated Block Design</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="experimental-design-and-field-preparation.html"><a href="experimental-design-and-field-preparation.html#organic-trials"><i class="fa fa-check"></i><b>5.3</b> Organic Trials</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="statistical-tests.html"><a href="statistical-tests.html"><i class="fa fa-check"></i><b>6</b> Statistical tests</a></li>
<li class="chapter" data-level="7" data-path="spatial-analysis.html"><a href="spatial-analysis.html"><i class="fa fa-check"></i><b>7</b> Spatial Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="spatial-analysis.html"><a href="spatial-analysis.html#spats"><i class="fa fa-check"></i><b>7.1</b> SpATS</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="gge-biplots.html"><a href="gge-biplots.html"><i class="fa fa-check"></i><b>8</b> GGE BiPlots</a>
<ul>
<li class="chapter" data-level="8.1" data-path="gge-biplots.html"><a href="gge-biplots.html#metan"><i class="fa fa-check"></i><b>8.1</b> metan</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="gge-biplots.html"><a href="gge-biplots.html#which-won-where"><i class="fa fa-check"></i><b>8.1.1</b> Which won where</a></li>
<li class="chapter" data-level="8.1.2" data-path="gge-biplots.html"><a href="gge-biplots.html#mean-vs.-stability"><i class="fa fa-check"></i><b>8.1.2</b> Mean vs. Stability</a></li>
<li class="chapter" data-level="8.1.3" data-path="gge-biplots.html"><a href="gge-biplots.html#genotype-ranking"><i class="fa fa-check"></i><b>8.1.3</b> Genotype Ranking</a></li>
<li class="chapter" data-level="8.1.4" data-path="gge-biplots.html"><a href="gge-biplots.html#genotype-comparison"><i class="fa fa-check"></i><b>8.1.4</b> Genotype Comparison</a></li>
<li class="chapter" data-level="8.1.5" data-path="gge-biplots.html"><a href="gge-biplots.html#modifying-the-plot."><i class="fa fa-check"></i><b>8.1.5</b> Modifying the plot.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A PPB Toolkit in R and RStudio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="first-steps-in-r" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> First Steps in R</h1>
<style>
body {
text-align: justify}
</style>
<p>If you already know the basics of R, you can skip this section and go straight to the next <a href="data-wrangling-and-summarizing.html#data-wrangling-and-summarizing">chapter</a>!</p>
<p><img src="rsrstrip.png" /></p>
<div id="getting-started" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Getting started</h2>
<p>If however, you are not used to RStudio, many ressources are available on line to master the language and procedures on R. If you are interested, we suggest some of them at the end of this chapter. However, this first chapter gives the most basic elements of R that will be useful later on, for the objetives of this PPB Toolkit.</p>
<p>At this point, if you do not have it already, we suggest you to download the programming language R through this <a href="https://www.r-project.org/">link</a> and RStudio, the associated Integrated Development Environment (IDE) through this <a href="https://www.rstudio.com/products/rstudio/download/">link</a>. Alternatively, you can try the cloud version <a href="https://rstudio.cloud/">R studio cloud</a>, but have in mind that most explanations in this toolkit will be done according to a locally downloaded version.</p>
<p><img src="rsrstrip.png" /></p>
<p><strong>The RStudio Screen</strong></p>
<p>If at this point, you have downloaded and opened RStudio, you should be looking at something similar to the image in Figure 1 (This image is provisory). In order to facilitate communication between us and to properly navigate through the RStudio screen later on, some precisions must be made about this.</p>
<p><img src="Rstudio%20screen%202.png" />
<strong>Figure 1. The RStudio Screen. 1: The Text Editor. 2: The Environment. 3: The Plots. 4: The Console. </strong></p>
<p>The RStudio screen is normally divided into 4 large panels. Different tools could be assigned to those 4 panels, and their order can be inverted. However, we will here describe the most commons uses for the standard positions of these panels.</p>
<p>The <strong>text editor (1)</strong> usually appears at the upper left cuadrant. It is evidently where most typing happens and what is typed can then be saved in the form of a script.</p>
<p>The <strong>console (2)</strong> is at the lower left cuadrant, every line of code run passes through here, and it is also where results are usually shown. Also, when an error occurs, the explanation of the error appears here. Moreover, some other features might be shown in this cuadrant if decided by the user, such as the Terminal and R Markdown (which will not be covered in this toolkit).</p>
<p>The <strong>upper right corner (3)</strong> usually shows us the objects that are present in the R environment. We will later on see what objects can be and how to use them.</p>
<p>The <strong>lower right cuadrant (4)</strong> is one of the most versatile spaces. It can be used to see the plots, to browse for files and to ask for help.</p>
<p><img src="rsrstrip.png" /></p>
<p><strong>Basic operations.</strong></p>
<p>R can be thought simply as a calculator (but a very powerful one). Start by writing <strong>on the console</strong> “1+1,” and then click the Enter button.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="first-steps-in-r.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">1</span> </span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>The first strip is what we typed, and the second shows the result of the request. The [1] symbol indicates that this is the first line of answers, and the only element present is a 2. Later on, we will see that certain operations will produce several lines of answers, so it is useful that results are ordered by numbers.</p>
<p>Try to type now “1+1” on the text editor. Once typed, you can click on the “Run” button on the upper right to see the same results. Or alternatively (and faster), you can just type Ctrl+Enter while the cursor is on that line.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="first-steps-in-r.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>We should expect the same results by performing operations directly on the console or on the text editor. However, the text editor is more flexible, because you can save all your text as a script, and rerun it later.</p>
<p><img src="rsrstrip.png" /></p>
<p><strong>Basic Arithmetics </strong></p>
<p>Let’s explore a bit of other arithmetic functions. For example, if you want to multiply 6 times 9, just type "6*9" in the text editor and hit Ctrl+Enter:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="first-steps-in-r.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span><span class="sc">*</span><span class="dv">9</span></span></code></pre></div>
<pre><code>## [1] 54</code></pre>
<p>Or maybe you want to divide 3 by 2.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="first-steps-in-r.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">/</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 1.5</code></pre>
<p>Perhaps you are interested in estimating the square root of 2.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="first-steps-in-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1.414214</code></pre>
<p>Or in calculating 10 to the power of 2.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="first-steps-in-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<p><img src="rsrstrip.png" /></p>
<p><strong>Basic functions</strong></p>
<p>Functions are the base of R. Internally, they contain the operations that we want to execute. They are always written followed by a parenthesis and everything that is between parenthesis is called “arguments” . You can learn more about each function by typing the ? symbol, followed by the name of the function.</p>
<p>Three simple examples of useful functions:</p>
<pre><code>  Concatenate =  c() 
  Mean = mean()
  Standard deviation =  sd()</code></pre>
<p>How to use them?</p>
<ul>
<li>Use c() to put together a set of elements. In this case, numbers.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="first-steps-in-r.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p>Use mean() to estimate the mean of the four elements inside the c() function.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="first-steps-in-r.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))</span></code></pre></div>
<pre><code>## [1] 2.5</code></pre>
<p>You can do the same, but with sd(), to estimate the standard deviation</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="first-steps-in-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span> (<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))</span></code></pre></div>
<pre><code>## [1] 1.290994</code></pre>
<p><img src="rsrstrip.png" /></p>
<p><strong>Objects</strong></p>
<p>The term “Object” refers to most of the information stored in your R session. An object can be a number, a character, a dataframe, a plot, or other things. You can see your objects in the upper right window of RStudio, called Environment.</p>
<p>You can create objects by using the symbols ‘ = ’ or ‘ &lt;- ‘, although the latter is generally prefered. For example, create an object called x, containing the numbers 1, 2 and 3.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="first-steps-in-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb20-2"><a href="first-steps-in-r.html#cb20-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>Or create and object called myvector, with all numbers from 1 to 5. The “:” symbol indicated that every number between 1 and 5 will be included.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="first-steps-in-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a>myvector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb22-2"><a href="first-steps-in-r.html#cb22-2" aria-hidden="true" tabindex="-1"></a>myvector</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>Now, you should see in the upper right window your two newly created objects, called “x” and “myvector.”</p>
<p>Two important notes regarding objects are:</p>
<ul>
<li><p>When you create an object, it does not appear automatically in the console. To actually see the object you created, you have to “call it” by writing it’s name on the text editor and typing Ctrl+Enter. Or, by writing it on the console and hitting simply Enter.</p></li>
<li><p>Attention to ortography and lower/upper cases!! MyVector is not myvector (typos make up the most common errors for R begginers)</p></li>
</ul>
<p><img src="rsrstrip.png" /></p>
<p><strong>Saving your script.</strong></p>
<p>You can save your script to work on it later, and, in that way, you have a proper register of the analysis you did.It’s very useful to create a folder in your computer for every project you do in R. We invite you to create a folder on your documents and call it “R PPB toolkit” or whatever name you like better.</p>
<p>Once created, you can save the script in which you are working by clicking on:</p>
<ul>
<li>File &gt; Save As &gt; Choose your folder and save your script as “myscript.R.”</li>
</ul>
<p>(It’s important to finish with “.R,” to indicate your file format.)</p>
<p><img src="rsrstrip.png" /></p>
</div>
<div id="preparing-and-reading-your-data" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Preparing and reading your data</h2>
<p><strong>Setting up your Working Directory. </strong></p>
<p>The Working Directory (WD) is a very important concept, and it is simply the folder in which you are working. This folder should work both for uploading files and placing the outputs of your work.</p>
<p>The most important things to di regarding your WD are:</p>
<p><strong>1. Knowing which folder is your actual WD, by using getwd() </strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="first-steps-in-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()  </span></code></pre></div>
<pre><code>## [1] &quot;C:/Users/Usuario1/Documents/Github/PPB-Toolkit&quot;</code></pre>
<p>*This is our working directory in our computer, but yours will be inevitably named diferently. In this case, our Directory (“PPB-Toolkit”) is within the a folder called “Github,” that is located within “Documents.”</p>
<p><strong>2. Fixing your WD by writing setwd(“Folder Location”) </strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="first-steps-in-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/Users/Usuario1/Documents/New-PPB-Toolkit&quot;</span>)</span></code></pre></div>
<p>So, I could set my WD to a folder inside my Documents. This step is specially tricky and works differently in PC and Mac. You should be sure that you can type precisely the location on your computer. Alternatively, you can follow step 3.</p>
<p><strong>3. Fixing your WD by clicking. </strong></p>
<p>You can also set your WD by clicking on RStudio.</p>
<ul>
<li>Session &gt; Set Working Directory &gt; Choose Directory &gt; Manually locate your folder.</li>
</ul>
<p>This is useful because the chances of typos and errors are reduced, but, if you have to do it every time you open RStudio, it might be annoying.</p>
<p>*After doing this, you will see on the console that a code was automatically written, using the setwd(function). A nice trick is to copy and paste this direction into your script (inside the setwd() function), so that you are sure that is it typed correctly.</p>
<p><img src="rsrstrip.png" /></p>
<p><strong>Preparing your data.</strong></p>
<p>Normally, after evaluations in the field or in the laboratory, data is usually stored in a spreadsheet format in Excel, Google Sheets or other similar options. In those files, data should be kept in a format that is as tidy as possible, to facilitate further elaborations. The fundamentals of tidy data can be found <a href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html">here</a>.</p>
<p>In this toolkit we will work mostly with data from a tomato PPB project developed in Italy (I would like to also add data from another source, maybe later). For this case, the data corresponds to a Multi Location Trial (MLT) done in 2020 at 4 different locations. The material evaluated came from a composite cross of 4 different landraces, and subjected to Natural Selection or Farmers Selection. However, to simplify this toolkit, varieties were simply named from A to N, as there were 14 different genotypes. Data also includes variables like mean of farmer’s evaluations, the yield at first harvest, the total yield, the mean fruit weight and the percentage of marketable yield (as defined by the farmers).</p>
<p><img src="tomatodata.PNG" />
<strong>Figure 2. Snapshot of the spreadsheet containing the data from the tomato Multi-Location Trial as part of a PPB program. </strong></p>
<p>Moreover, there are some general advices that can be given about the format of the data to upload.</p>
<ul>
<li><p>For the column names, it is convenient to use short but explanative names and to avoid spaces. This allows for less problems in the analysis. That is why, for example, column 7 on Figure 2 reads “farmers_eval” instead of “Farmer’s Evaluation.”</p></li>
<li><p>If you data frame has missing data, it is convenient to use always the same character as data frame indicator. It can be a "*" or even “NA,” but, for now, avoid leaving blanks for the missing data.</p></li>
</ul>
<p><img src="rsrstrip.png" /></p>
<p><strong>Uploading the data.</strong></p>
<p>Data can be uploaded to R studio directly from the spreadsheet file in a excel format. However, the best way to do it is transforming your file into a “comma separated values” or .csv file. This is a lighter and easier to read format for most programs. To convert your spreadsheet into this format, you just have to click on “Save As,” and choose the option “CSV (comma delimited).” You can know if you did it right if you open the same document in a text editor, such as Word or Notepad, and you see that now your rows have become just a long string of text separated with commas.</p>
<p>You can <strong>find and download the data</strong> in this <a href="https://drive.google.com/drive/folders/1y2NPXd9lYZcM51NMJEgqa-Iax8qZYs3O?usp=sharing">Google Drive Folder</a>. Once your data file is on .csv format and saved in the folder you choose for Working Directory, you can upload it this way.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="first-steps-in-r.html#cb27-1" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;tomatoMLT2020.csv&quot;</span>)</span></code></pre></div>
<p>In this case, we knew that there was a file called ‘tomatoMLT2020.csv’ in our working directory. So, through this line, we are at the same time reading the data, and assigning it to an object called “mydata”</p>
<p>If it doesn’s work, the most probable reasons are that: i)the data is not on the right directory, or ii) you have not set properly your working directory. A small trick to check that out would be using this function. Where we ask R to list all the files within our working directory.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="first-steps-in-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="fu">getwd</span>())</span></code></pre></div>
<p>Another way to upload the data would be be clicking</p>
<ul>
<li>Import Database &gt; From text(base) &gt; Manually choose and select your file.</li>
</ul>
<p>In that case, you will see that the code required to perform that operation will be automatically written on the console. A nice trick would be to copy that code and paste it on your script, to save it for later occasions.</p>
<p>Moreover, off course that you can also import files that are in a excel format. You could, for example, click on:</p>
<ul>
<li>Import Database &gt; From Excel &gt; Manually choose and select your file.</li>
</ul>
<p>Or, as well, use the required function, called <strong>read_xl()</strong>. However, it requires to download the “readxl” package library ( and we will talk about them soon!).</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="first-steps-in-r.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb29-2"><a href="first-steps-in-r.html#cb29-2" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="st">&quot;tomatoMLT2020.xlsx&quot;</span>)</span></code></pre></div>
<p>Moreover, more information about importing data into R can be found <a href="http://www.sthda.com/english/wiki/importing-data-into-r">here</a>.</p>
<p><strong>Checking your data </strong></p>
<p>It is generally convenient to check your data once you have uploaded it. This way, you make sure that you are choosing the right file and that no information was loss or distorted in the uploading process. Once you have uploaded the data, you can ask questions through R about the data, for example:</p>
<p>What is the structure of my data?</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="first-steps-in-r.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mydata)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    112 obs. of  11 variables:
##  $ location         : chr  &quot;Molise&quot; &quot;Molise&quot; &quot;Molise&quot; &quot;Molise&quot; ...
##  $ plot             : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ rep              : int  1 1 2 2 1 1 2 2 1 1 ...
##  $ row              : int  1 2 3 4 1 2 3 4 1 2 ...
##  $ col              : int  1 1 1 1 2 2 2 2 3 3 ...
##  $ variety          : chr  &quot;Var. A&quot; &quot;Var. D&quot; &quot;Var. I&quot; &quot;Var. N&quot; ...
##  $ farmers_eval     : num  3.24 2.71 3.35 3.24 3.24 3.06 2.88 3.24 2.94 2.88 ...
##  $ yield            : num  789 498 822 846 1083 ...
##  $ yield_first      : num  11 0 24.9 46.8 28.2 ...
##  $ perc_mark_yield  : num  57.5 55.8 76 55.3 81.2 ...
##  $ mean_fruit_weight: num  17.43 7.37 35.54 14.19 68.85 ...</code></pre>
<p>This function is particularly useful, as you can see the data type of your columns. They might be characters, numerics, integrers (numbers without decimals) and factors, among others. For example, in this case, the location and the variety are read as characters, while they should be factors. We will soon see how to change this.</p>
<p>We could, also do more specifical questions, like how many columns do I have? Or how many rows? What are the names of my variables?</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="first-steps-in-r.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="first-steps-in-r.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 112</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="first-steps-in-r.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(mydata)</span></code></pre></div>
<pre><code>##  [1] &quot;location&quot;          &quot;plot&quot;              &quot;rep&quot;              
##  [4] &quot;row&quot;               &quot;col&quot;               &quot;variety&quot;          
##  [7] &quot;farmers_eval&quot;      &quot;yield&quot;             &quot;yield_first&quot;      
## [10] &quot;perc_mark_yield&quot;   &quot;mean_fruit_weight&quot;</code></pre>
<p>Of course, you can always choose to see your data in spreadsheet format.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="first-steps-in-r.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(mydata)</span></code></pre></div>
<p>This does not appear in the book format, but in your RStudio screen, it will make a new tab appear with your data in a spreadsheet format.</p>
<p>Bottomline, we advice to always check your data when uploading. Specifically, check the data type of each variable, as this might lead to problems during the analysis and manipulation.</p>
<p><img src="rsrstrip.png" /></p>
</div>
<div id="basic-data-manipulation" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Basic data manipulation</h2>
<p><strong>Accesing your data </strong></p>
<p>Before performing statistic analysis, it is useful to understand how you can “call” a specific column or row in R, so that you can easiliy access your data. Here are two basic examples.</p>
<ul>
<li>To access a specific column, you can use the data frame name, followed by the “$” operator and the column name. For example, if I wanted to see every data point on the column for yield, I could type.</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="first-steps-in-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>yield</span></code></pre></div>
<pre><code>##   [1]  789.25  497.75  821.90  846.50 1083.23  750.49  719.00 1163.00  854.72
##  [10]  766.25  791.25 1023.18 1004.11  906.84  830.79  953.52  906.25  831.25
##  [19]  698.76  977.25  671.00  999.75 1055.65  653.16  814.89 1016.23 1223.02
##  [28]  785.00 3907.75 3679.00 2618.95 3115.58 2474.74 3199.25 3695.00 3617.00
##  [37] 3607.63 3550.26 3619.80 3447.75 2670.28 2660.75 3262.11 1587.50 3215.00
##  [46] 2671.75 2789.00 2646.00 2715.30 1321.75 3449.00 3362.63 3315.25 2300.00
##  [55] 2754.25 3028.42  424.47  482.25  469.47  623.06  415.83  509.75  478.24
##  [64]  515.60  315.00  173.00 1094.72  799.06  253.95  944.75  190.26  376.18
##  [73]  440.79  441.30  345.53  478.68  711.75  221.75  158.25  719.25  275.00
##  [82]  418.50  440.50  261.32 1264.85  918.07 1110.38 1171.68  893.31 1168.29
##  [91] 1038.53 1150.23 1277.07  821.88  805.21 1195.68  655.47  695.64  988.79
## [100] 1162.33 1556.57  876.80  868.72 1135.47 1582.41  761.53  549.38  840.05
## [109] 1405.12  540.47  774.07  602.94</code></pre>
<p>Thus, this gives every one of the 112 observations on plot yield, in the order in which they appear in the data frame.</p>
<ul>
<li>You can, alternatively, use the form data[row,column]. For example, if you only want to see the data point in the third row and third column.</li>
</ul>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="first-steps-in-r.html#cb41-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="dv">3</span>,<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>The same idea can be used to see only the first row, and all columns.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="first-steps-in-r.html#cb43-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="dv">1</span>,]</span></code></pre></div>
<pre><code>##   location plot rep row col variety farmers_eval  yield yield_first
## 1   Molise    1   1   1   1  Var. A         3.24 789.25          11
##   perc_mark_yield mean_fruit_weight
## 1           57.46             17.43</code></pre>
<p>Or also, it could be useful to see rows 1, 2 and 3, and only the second column.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="first-steps-in-r.html#cb45-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 1 1 1</code></pre>
<p>You can also call columns by their names. In this case, lines 1 to 10 of the Farmer’s Evaluations</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="first-steps-in-r.html#cb47-1" aria-hidden="true" tabindex="-1"></a>mydata[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="st">&quot;farmers_eval&quot;</span>]</span></code></pre></div>
<pre><code>##  [1] 3.24 2.71 3.35 3.24 3.24 3.06 2.88 3.24 2.94 2.88</code></pre>
<p><img src="rsrstrip.png" /></p>
<p><strong>Vector arithmetics</strong></p>
<p>In the same way in which you can do arithmetics with simple numbers (as seen before), you can do it with vectors (a series of numbers). Also, if you use introduce a hashtag (#) in your text editor or console, you can freely write text that explains what you are doing. For example:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="first-steps-in-r.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a v vector</span></span>
<span id="cb49-2"><a href="first-steps-in-r.html#cb49-2" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb49-3"><a href="first-steps-in-r.html#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a w vector</span></span>
<span id="cb49-4"><a href="first-steps-in-r.html#cb49-4" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb49-5"><a href="first-steps-in-r.html#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add them up to create a t vector</span></span>
<span id="cb49-6"><a href="first-steps-in-r.html#cb49-6" aria-hidden="true" tabindex="-1"></a>t<span class="ot">=</span> v <span class="sc">+</span> w</span>
<span id="cb49-7"><a href="first-steps-in-r.html#cb49-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-8"><a href="first-steps-in-r.html#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co"># t is the sum of v and w</span></span>
<span id="cb49-9"><a href="first-steps-in-r.html#cb49-9" aria-hidden="true" tabindex="-1"></a>t</span></code></pre></div>
<pre><code>## [1] 11 22 33 44 55</code></pre>
<hr />
<p><strong>Create a new column. </strong></p>
<p>Using vector arithmetics we could create new columns in our data frame, done through calculations performed with the existing columns. For example, in our particular data set, we have data for total yield and the data for percentage of marketable yield. A simple way to obtain only the marketable yield, would be to multiply the total yield with the percentage of marketable yield. This will create a new vector which we will simply call “newvector”</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="first-steps-in-r.html#cb51-1" aria-hidden="true" tabindex="-1"></a>newvector <span class="ot">&lt;-</span> mydata<span class="sc">$</span>yield <span class="sc">*</span>   mydata<span class="sc">$</span>perc_mark_yield</span></code></pre></div>
<p>Once you created the vector, you can add it to the data frame. You can also do it directly, but we chose it this way to make it simpler to understand.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="first-steps-in-r.html#cb52-1" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>mark_yield <span class="ot">&lt;-</span> newvector</span></code></pre></div>
<p><img src="rsrstrip.png" /></p>
</div>
<div id="basic-statistics-and-plots" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Basic Statistics and Plots</h2>
<p><strong>Minimal statistics</strong></p>
<p>Now that we know how to call an specifical column in the data frame, it is possible to perform some basic statistics on these variables.</p>
<ul>
<li>Estimate the mean of a variable.</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="first-steps-in-r.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mydata<span class="sc">$</span>yield)</span></code></pre></div>
<pre><code>## [1] 1334.865</code></pre>
<ul>
<li>Estimate the median.</li>
</ul>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="first-steps-in-r.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(mydata<span class="sc">$</span>yield)</span></code></pre></div>
<pre><code>## [1] 906.545</code></pre>
<ul>
<li>Estimate the standard deviation.</li>
</ul>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="first-steps-in-r.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(mydata<span class="sc">$</span>yield)</span></code></pre></div>
<pre><code>## [1] 1055.797</code></pre>
<p><img src="rsrstrip.png" /></p>
<p><strong>A simple plot.</strong></p>
<p>Using the function plot() we can create simple exploratory graphs, which will appear on the lower right pannel.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="first-steps-in-r.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>( <span class="at">x=</span> mydata<span class="sc">$</span>farmers_eval,        <span class="co"># My x axis</span></span>
<span id="cb59-2"><a href="first-steps-in-r.html#cb59-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">y=</span> mydata<span class="sc">$</span>yield,               <span class="co"># My y axis</span></span>
<span id="cb59-3"><a href="first-steps-in-r.html#cb59-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab=</span> <span class="st">&quot;Yield per plant (kg)&quot;</span>,  <span class="co"># My x label</span></span>
<span id="cb59-4"><a href="first-steps-in-r.html#cb59-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab=</span> <span class="st">&quot;Farmer&#39;s Evaluation&quot;</span> )  <span class="co"># My y label</span></span></code></pre></div>
<p><img src="PPB-Toolkit-for-R-and-R-Studio_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p><strong>Another simple plot.</strong></p>
<p>We could, for example plot the harvest data for each location. But first, we will check if the data types are right.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="first-steps-in-r.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mydata)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    112 obs. of  12 variables:
##  $ location         : chr  &quot;Molise&quot; &quot;Molise&quot; &quot;Molise&quot; &quot;Molise&quot; ...
##  $ plot             : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ rep              : int  1 1 2 2 1 1 2 2 1 1 ...
##  $ row              : int  1 2 3 4 1 2 3 4 1 2 ...
##  $ col              : int  1 1 1 1 2 2 2 2 3 3 ...
##  $ variety          : chr  &quot;Var. A&quot; &quot;Var. D&quot; &quot;Var. I&quot; &quot;Var. N&quot; ...
##  $ farmers_eval     : num  3.24 2.71 3.35 3.24 3.24 3.06 2.88 3.24 2.94 2.88 ...
##  $ yield            : num  789 498 822 846 1083 ...
##  $ yield_first      : num  11 0 24.9 46.8 28.2 ...
##  $ perc_mark_yield  : num  57.5 55.8 76 55.3 81.2 ...
##  $ mean_fruit_weight: num  17.43 7.37 35.54 14.19 68.85 ...
##  $ mark_yield       : num  45350 27750 62464 46828 88002 ...</code></pre>
<p>Looks like the location is a character variable. This means that it is just a loose string of text. We rather want it to be a factor, so that all observations with the same location can be grouped in plots. The function <strong>as.factor()</strong> allows me to change any type of variable into a factor</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="first-steps-in-r.html#cb62-1" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>location <span class="ot">=</span> <span class="fu">as.factor</span>(mydata<span class="sc">$</span>location)</span></code></pre></div>
<p>And now we can do the plot. Notice that, as we plotted a factor variable (the location) against a quantitative variable (the yield), R automatically generates <a href="https://en.wikipedia.org/wiki/Box_plot">box plot</a>, which is useful, becuase it not only tells us the median values, but also dispersion of the data with the size of the box and it’s whiskers..</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="first-steps-in-r.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>( <span class="at">x=</span> mydata<span class="sc">$</span>location, </span>
<span id="cb63-2"><a href="first-steps-in-r.html#cb63-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">y=</span>mydata<span class="sc">$</span>yield,</span>
<span id="cb63-3"><a href="first-steps-in-r.html#cb63-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab=</span> <span class="st">&quot;Yield per plant (kg)&quot;</span>,</span>
<span id="cb63-4"><a href="first-steps-in-r.html#cb63-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab=</span> <span class="st">&quot;Location&quot;</span>)</span></code></pre></div>
<p><img src="PPB-Toolkit-for-R-and-R-Studio_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p><img src="rsrstrip.png" /></p>
</div>
<div id="packages-in-r." class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Packages in R.</h2>
<p>Packages are what keeps the R community growing, as virtually anyone can create and upload a package in R. A package can be loosely defined as a group of functions that serve to a certain objective or area of study. Some of them are very useful to treat and analyze data from varietial trials and PPB programs, and we will see many examples later. Downloading and installing them is very easy, you have mostly two options.</p>
<ol style="list-style-type: decimal">
<li><p>The simplest is to click on Tools &gt; Install Packages &gt; and write the package name. This works as long as the package is on the CRAN repositoy, which is the official R repository where developers upload packages.</p></li>
<li><p>To make it easier, and embeded into your code, you could also write</p></li>
</ol>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="first-steps-in-r.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;yourpackagename&quot;</span>)</span>
<span id="cb64-2"><a href="first-steps-in-r.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Don&#39;t try this! It&#39;s only an example!</span></span></code></pre></div>
<p>Once installed, you have to call it so that it is active on R. This is true for every time you open R.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="first-steps-in-r.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yourpackagename)</span>
<span id="cb65-2"><a href="first-steps-in-r.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Again, don&#39;t try this.</span></span></code></pre></div>
<p>We will use and install several packages in the following chapters.</p>
<hr />
</div>
<div id="final-considerations" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Final considerations</h2>
<p><strong>Ask questions!</strong></p>
<p>It’s very hard to know (and to remember!) how everything is done in R. And, like any language, the only way to become fluent is to practice often. There will always be things that you might want to do, and which are not included in this very small manual. For those cases, curiosity is a gread advantage, and here is some small advice about how to proceed.</p>
<p>Examples:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>When you wish to better understand a function and it’s arguments, you can type ?functionname (and changing “functionname” for your actual function). This will display a window on the left lower panel which explains thoroughly the function and how is it done.</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>When you want to something in particular, but are not sure how to do it in R, A great approach is just to google: “How to _____ in R.” This can get you out of many troubles, the tricky part is finding out how to ask the proper question.</li>
</ol></li>
<li><ol start="3" style="list-style-type: decimal">
<li>When you run a piece of code and receive an error (usually displayed with red letters on the console) try to read them and see what they mean. Sometimes, these errors are hard to interpret, and one good approach is to copy-paste them in google, and see who was suffered from this before.</li>
</ol></li>
</ul>
<p><strong>To learn more</strong></p>
<p>These are just some sources to learn more about R:</p>
<ul>
<li><p>The basic book is the <a href="https://rc2e.com/">R Cookbook</a>.</p></li>
<li><p>This site offers plenty of information with nice tutorials: <a href="http://www.sthda.com/english/">STHDA</a></p></li>
<li><p>This is a cool blog where people ask questions you might have: <a href="https://stackoverflow.com/">Stack Overflow</a></p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-wrangling-and-summarizing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PPB Toolkit for R and R Studio.pdf", "PPB Toolkit for R and R Studio.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
